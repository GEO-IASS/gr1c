<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>gr1c: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="gr1cdoc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">gr1c
   &#160;<span id="projectnumber">0.10.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This building and installation guide should work for anything Unix-like, but in particular it has been tested on, in terms of architecture for which the executable is built,</p>
<ul>
<li>GNU/Linux: i386, x86_64</li>
<li>Mac OS X: x86_64</li>
</ul>
<p>Aside from standard C libraries and a basic development environment (gcc, etc.), <b>gr1c</b> depends on <a href="http://vlsi.colorado.edu/~fabio/CUDD/">CUDD</a>, the CU Decision Diagram package by Fabio Somenzi and others. Also, gr1c interactive mode optionally uses GNU Readline (disabled by default; selected via <code>USE_READLINE</code> definition in Makefile). The parser generator <a href="http://www.gnu.org/software/bison/">Bison</a> and the lexical analyzer <a href="http://flex.sourceforge.net/">flex</a> are required to build gr1c. Other Yacc and lex compatible tools may suffice, but this has not been tested.</p>
<p>If the machine on which you are building has more than one CPU, then building time may be reduced by running more than one Make job simultaneously. To do this, use the switch <code>-j N</code> in <code>make</code> commands in these instructions, where <code>N</code> is the number of jobs. E.g., if there are 8 CPUs available, <code>make -j 8 all</code>.</p>
<h2>Building </h2>
<p>For the latest development snapshot, either <a href="https://github.com/slivingston/gr1c">clone the repo</a> (at <a href="https://github.com/slivingston/gr1c.git">https://github.com/slivingston/gr1c.git</a>) or <a href="https://github.com/slivingston/gr1c/tarball/master">download a tarball</a>. For the latter, untar the file (name may vary) and change into the source directory. </p>
<pre class="fragment">$ tar -xzf slivingston-gr1c-658f32b.tar.gz
$ cd slivingston-gr1c-658f32b
</pre><p>We will first build <a href="http://vlsi.colorado.edu/~fabio/CUDD/">CUDD</a>. Alternatives, e.g., if you have a shared library of CUDD installed, are described later as <a href="#altlib">additional build options</a>.</p>
<h3>Automatic</h3>
<pre class="fragment">$ ./get-deps.sh
$ make cudd
</pre><h3>Manual</h3>
<p>Let's make a directory called <code>extern</code> for this purpose. At the time of writing, the latest version is 2.5.0. Below we use <code>wget</code> to download it from the command-line. You might also try directing your Web browser at <a href="ftp://vlsi.colorado.edu/pub/">ftp://vlsi.colorado.edu/pub/</a>, or read CUDD documentation for instructions. </p>
<pre class="fragment">$ mkdir extern
$ cd extern
$ wget ftp://vlsi.colorado.edu/pub/cudd-2.5.0.tar.gz
$ tar -xzf cudd-2.5.0.tar.gz
$ cd cudd-2.5.0
</pre><p>Now you should be in the root of the CUDD source tree. Open the <code>Makefile</code> in your favorite editor (e.g., <a href="http://www.gnu.org/software/emacs/">Emacs</a>) and make sure the settings look reasonable for your setup. The comments therein should be enough to guide you. If in doubt, consult the <code>Makefile</code> of gr1c, in particular CUDD_XCFLAGS, which is known to succeed for x86_64 GNU/Linux and Mac OS (64-bit; possibly requiring that the switch <code>-DBSD</code> be removed) and thus could be copied directly into the setting of the XCFLAGS variable in the <code>Makefile</code> of CUDD. More generally, try </p>
<pre class="fragment">XCFLAGS = -mtune=native -DHAVE_IEEE_754 -DBSD -DSIZEOF_VOID_P=N -DSIZEOF_LONG=M
</pre><p>where <code>SIZEOF_VOID_P</code> and <code>SIZEOF_LONG</code> refer to the number of bytes used for <code>void</code> pointers and <code>long int</code> on your computer. One method for finding appropriate <code>N</code> and <code>M</code> is <a href="#determinewsize">described below</a>. Finally, </p>
<pre class="fragment">$ make
</pre><p>With success building CUDD, we may now build gr1c. Change back to the gr1c root source directory and open the <code>Makefile</code>. There are two items to check. First, be sure that CUDD_ROOT matches where you just built CUDD; for the version used above, that would be <code>extern/cudd-2.5.0</code>. Second, be sure that CUDD_XCFLAGS matches XCFLAGS that you used to build CUDD.</p>
<p>Finally, run <code>make</code>. If no errors were reported, you should be able to get the version with </p>
<pre class="fragment">$ ./gr1c -V
</pre><p>Later parts of this document describe <a href="#testing">testing gr1c</a> and <a href="#extras">additional build options</a>.</p>
<h3 id="determinewsize">Determining word size on your computer</h3>
<p>If you want to select <code>N</code> and <code>M</code> for <code>-DSIZEOF_VOID_P=N -DSIZEOF_LONG=M</code> as suggested above, then you must determine the number of bytes used for <code>void</code> pointers and <code>long int</code> on your computer. These will be provided as compile flags when building CUDD and gr1c. An easy way to discover these is to place </p>
<pre class="fragment">#include &lt;stdio.h&gt;
int main()
{
    printf( "void *: %lu\nlong: %lu\n", sizeof(void *), sizeof(long) );
    return 0;
}
</pre><p>in a plain text file, say called <code>testsize.c</code>, and then </p>
<pre class="fragment">$ gcc -o testsize testsize.c
$ ./testsize
</pre><p>The output will give the number of bytes for each type. For example, in the case of 64-bit, you may get </p>
<pre class="fragment">void *: 8
long: 8
</pre><h2 id="testing">Testing</h2>
<p>Before deploying gr1c and especially if you are building it yourself, run the test suite from the source distribution. After following the build steps above, do </p>
<pre class="fragment">$ make check
</pre><p>Optionally, set the shell variable <code>VERBOSE</code> to 1 to receive detailed progress notifications. E.g., try <code>VERBOSE=1 make check</code>. Most test code is placed under the <code>tests</code> directory. <b>N.B.</b>, scripted interaction will only work if you build without GNU Readline. If a test fails, despite you following the installation instructions, then please open an <a href="https://github.com/slivingston/gr1c/issues">issue on GitHub</a> or contact Scott Livingston at <a href="#" onclick="location.href='mai'+'lto:'+'sli'+'vi'+'ngs'+'to'+'n@c'+'ds'+'.ca'+'lt'+'ech'+'.e'+'du'; return false;">slivi<span style="display: none;">.nosp@m.</span>ngst<span style="display: none;">.nosp@m.</span>on@cd<span style="display: none;">.nosp@m.</span>s.ca<span style="display: none;">.nosp@m.</span>ltech<span style="display: none;">.nosp@m.</span>.edu</a></p>
<h2>Placing gr1c on your shell path </h2>
<p>To use the program <code>gr1c</code> outside of the directory you just built it in, you will need to add it to the search path of your shell. Assuming you have administrative privileges, one solution is </p>
<pre class="fragment">$ sudo make install
</pre><p>which will copy <code>gr1c</code> and <code>rg</code> to <code>/usr/local/bin</code>, a commonly used location for "local" installations. This is based on a default installation prefix of <code>/usr/local</code>. Adjust it by invoking <code>make</code> with something like <code>prefix=/your/new/path</code>. The programs <code>grpatch</code> and <code>grjit</code> are <em>not</em> included in as an effect of <code>make install</code>. <a href="#extras">Extra instructions</a> concerning these are below.</p>
<h2 id="extras">Extras</h2>
<p>Running <code>make</code>, as described above, will not cause the programs <code>grpatch</code> and <code>grjit</code> to be built. To achieve this, </p>
<pre class="fragment">$ make all
</pre><p>Alternatively, you can request a specific executable, e.g., <code>make grpatch</code>. To install <code>grpatch</code> in the same place as <code>gr1c</code>, </p>
<pre class="fragment">$ make expinstall
</pre><p>Other experiment-related programs, such as <code>grjit</code>, will eventually be added to the list installed by the expinstall command. <a href="http://www.doxygen.org">Doxygen</a> must be installed to build the documentation...including the page you are now reading. Try </p>
<pre class="fragment">$ make doc
</pre><p>and the result will be under <code>doc/build</code>. Note that Doxygen version 1.8 or later is required to build documentation files formatted with <a href="http://daringfireball.net/projects/markdown">Markdown</a>, which have names ending in <code>.md</code> under <code>doc/</code>. For older versions, you can read Markdown files directly using any plain text viewer. E.g., the main page is <code>doc/api_intro.md</code>, and this page is <code>doc/installation.md</code>.</p>
<p>You can clean the sourcetree of all executables and other temporary files by running </p>
<pre class="fragment">$ make clean
</pre><h3 id="altlib">Alternatives for linking with CUDD</h3>
<p>If you have CUDD available as a shared library (it is not officially distributed this way, but some people have patched it thus), then you can pass alternative flags to the gr1c makefile, e.g., </p>
<pre class="fragment">$ make all CUDD_INC='-I/opt/local/include/cudd' CUDD_LIB='-L/opt/local/lib/cudd -lcudd'
</pre><p>To make this behavior permanent, change the variables CUDD_INC and CUDD_LIB in the <code>Makefile</code> of gr1c. To run tests against gr1c in this setting, replace "all" with "tests" in the previous command, or change <code>tests/Makefile</code> similarly. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 27 2015 23:34:50 for gr1c by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
