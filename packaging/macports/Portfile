# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                gr1c
version             0.6.2
categories          math devel

license             BSD
maintainers         cds.caltech.edu:slivingston
description         Tools for GR(1) synthesis and related activities

long_description    A collection of tools for GR(1) synthesis and related \
                    activities.  Its core functionality is checking \
                    realizability of and synthesizing strategies for GR(1) \
                    specifications, though it does much more.

homepage            http://scottman.net/2012/gr1c
master_sites        http://vehicles.caltech.edu/snapshots/gr1c/
platforms           darwin

checksums           rmd160  cecca701d1cf89c707a013221207c9820b1ec5c8 \
                    sha256  414c166c8f840a1b79267ccf5ccc6da1862eae11cb3c1d81ea42bbcf555bb432

patchfiles          patch-Makefile.diff patch-tests-Makefile.diff
if {[string match "-arch i386" ${configure.cc_archflags}]} {
    patchfiles-replace patch-Makefile.diff patch-Makefile-i386.diff
}

depends_build       port:bison port:flex
depends_lib         port:libcudd
universal_variant   no

use_configure       no
build.target        all
test.run            yes
test.target         check
# destroot.target     install expinstall
# destroot.destdir    INSTALLDIR=${prefix}/bin
destroot {
    xinstall -m 0755 ${worksrcpath}/gr1c ${worksrcpath}/rg ${worksrcpath}/grpatch ${destroot}${prefix}/bin
}
